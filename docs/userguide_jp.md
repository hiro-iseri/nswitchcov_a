# nswitchcov_a　ユーザマニュアル

このドキュメントではnswitchcov_aの使用方法を解説します。

## nswitchcov_aについて

nswitchcov_aは状態遷移テストにおけるNスイッチカバレッジを計測するツールです。

## ダウンロード

https://github.com/hiro-iseri/nswitchcov_a/releases

## 使い方

【実行方法】CUI環境で以下を引数指定して実行します。

* --stateflow ファイルパス ：状態遷移定義ファイルのパス
* --exepath ファイルパス　：実行フローファイルのパス
* --n 正の整数　：NスイッチのN値

【実行結果】Nスイッチカバレッジを表示します。

#### 実行コマンドの例

```
nswitchcov_a --exepath=exepath.txt --stateflow=stateflow.txt --n 0
```

#### 出力結果の例

```
number of execution path:2
number of n-switch path:4
n-switch coverage:50.00%(2/4)
```

## 入力ファイルの書き方

nswitchcov_aは次の2つのファイルを入力として取得します。

* 状態遷移定義ファイル：状態遷移の定義を記述する
* 実行フローファイル：実行時の状態遷移を記述する


### 共通ルール

* 「#」から始まる行、空行は無視されます
* （暫定仕様）全角はshift-jisのみ対応しています
* 状態、イベントのキーワード前後のタブやスペースは除去されます

状態遷移は「-」「>」を使って、次のパターンを連ねて記述します

```
遷移元状態 - 遷移イベント > 遷移先状態
```

複数の状態遷移をつなげて記載したり、複数行に分けて記載することが可能です。

つなげて記載する場合：

```
状態1 - 遷移イベント1 > 状態2 - 遷移イベント2 > 状態3
```

複数行に分けて記載する場合：

```
状態1 - 遷移イベント1 > 状態2
状態2 - 遷移イベント2 > 状態3
```

### 状態遷移定義ファイルの記載ルール

* 共通ルールに従って記載します。
* 遷移の定義の重複は無視されます。ただし「遷移元状態、遷移イベントが同じだが、異なる遷移先状態が複数定義されている」場合はエラーとなります。
* 状態遷移表を作成して、表内の各項目を転記するやり方がおすすめです

### 実行フローファイルの記載ルール

* 共通ルールに従って記載します。
* 一回の実行でたどる状態遷移を1行にまとめて記載していきます。